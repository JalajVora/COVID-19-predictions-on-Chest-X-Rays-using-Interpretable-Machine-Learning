---
title: "Data Science with `R` Project Proposal"
author: "Team: COVID-19 Predictor"
date: "20.05.2020"
#output: pdf_document
references:
- id: WHO
  title: Novel Coronavirus – China 2020
  author:
  - family: World Health Organisation
  URL: 'https://www.who.int/csr/don/12-january-2020-novel-coronavirus-china/en/'
  issued:
    year: 2020
    month: 1

@article{wang2020deep,
  title={A deep learning algorithm using CT images to screen for Corona Virus Disease (COVID-19)},
  author={Wang, Shuai and Kang, Bo and Ma, Jinlu and Zeng, Xianjun and Xiao, Mingming and Guo, Jia and Cai, Mengjiao and Yang, Jingyi and Li, Yaodong and Meng, Xiangfei and others},
  journal={MedRxiv},
  year={2020},
  publisher={Cold Spring Harbor Laboratory Press}
}

- id: 
  title: 
  author:
  - family: 
    given: 
  container-title: 
  volume: 
  URL: 
  DOI: 
  issue: 
  publisher: 
  page: 
  type: 
  issued:
    year: 
    month: 


- id: Zhao2020COVIDCTDatasetAC
  title: One-click science marketing
  author:
  - family: Zhao
    given: Martin
  container-title: Nature Materials
  volume: 11
  URL: 'http://dx.doi.org/10.1038/nmat3283'
  DOI: 10.1038/nmat3283
  issue: 4
  publisher: Nature Publishing Group
  page: 261-263
  type: article-journal
  issued:
    year: 2012
    month: 3

- id: DeepCOVIDExplainer
  title: One-click science marketing
  author:
  - family: George
    given: Martin
  container-title: Nature Materials
  volume: 11
  URL: 'http://dx.doi.org/10.1038/nmat3283'
  DOI: 10.1038/nmat3283
  issue: 4
  publisher: Nature Publishing Group
  page: 261-263
  type: article-journal
  issued:
    year: 2012
    month: 3

@article{wang2020deep,
  title={A deep learning algorithm using CT images to screen for Corona Virus Disease (COVID-19)},
  author={Wang, Shuai and Kang, Bo and Ma, Jinlu and Zeng, Xianjun and Xiao, Mingming and Guo, Jia and Cai, Mengjiao and Yang, Jingyi and Li, Yaodong and Meng, Xiangfei and others},
  journal={MedRxiv},
  year={2020},
  publisher={Cold Spring Harbor Laboratory Press}
}

- id: 
  title: 
  author:
  - family: 
    given: 
  container-title: 
  volume: 
  URL: 
  DOI: 
  issue: 
  publisher: 
  page: 
  type: 
  issued:
    year: 
    month: 
    
@article{li2020artificial,
  title={Artificial intelligence distinguishes COVID-19 from community acquired pneumonia on chest CT},
  author={Li, Lin and Qin, Lixin and Xu, Zeguo and Yin, Youbing and Wang, Xin and Kong, Bin and Bai, Junjie and Lu, Yi and Fang, Zhenghan and Song, Qi and others},
  journal={Radiology},
  pages={200905},
  year={2020},
  publisher={Radiological Society of North America}
}
- id: 
  title: 
  author:
  - family: 
    given: 
  container-title: 
  volume: 
  URL: ''
  DOI: 
  issue: 
  publisher: 
  page: 
  type: 
  issued:
    year: 
    month: 

@article{zhao2020covid,
  title={COVID-CT-Dataset: a CT scan dataset about COVID-19},
  author={Zhao, Jinyu and Zhang, Yichen and He, Xuehai and Xie, Pengtao},
  journal={arXiv preprint arXiv:2003.13865},
  year={2020}
}

- id: 
  title: 
  author:
  - family: 
    given: 
  container-title: 
  volume: 
  URL: 
  DOI: 
  issue: 
  publisher: 
  page: 
  type: 
  issued:
    year: 
    month: 
    
- id: 
  title: 
  author:
  - family: 
    given: 
  container-title: 
  volume: 
  URL: 
  DOI: 
  issue: 
  publisher: 
  page: 
  type: 
  issued:
    year: 
    month: 
    
- id: 
  title: 
  author:
  - family: 
    given: 
  container-title: 
  volume: 
  URL: 
  DOI: 
  issue: 
  publisher: 
  page: 
  type: 
  issued:
    year: 
    month: 
    

runtime: shiny
---







# Project Title: COVID-19 Prediction using Explainable Machine Learning


## Background and Motivation:
The COVID-19 or the SARS-CoV-2 originated from the district of Wuhan, China has transpired to be a pandemic worldwide [@WHO]. Research on the COVID-19 is a hot topic among the Artificial Intelligence community recently. Due to shortage and limited efficiency of current testing mechanism of COVID-19 tests, i.e. through RT-PCR kits [@Zhao2020COVIDCTDatasetAC] which usually takes upto 4-6 hours to reproduce the results which is not very optimal way to move forward as the rate of COVID-19 patients registered grows exponentially. With this problem in scientific community, it motivated to aim of Data Science Methodology be brought to be a part in helping flattening the curve. So, this lead to a possibility of building classifiers which can diagonise patients as COVID-19 negative or positive based on their respective X-Ray images [citation of some similar experiments]. As this approach is can be less time and resource consuming and hoped to achieve more streamlined performance compared to RT-PCR kits. Also in addition to a good prediction, we needed reasons that could justify what could be the features that are responsible in the diagonistic process [@DeepCOVIDExplainer; @fenner2012a]. 

With this idea and motivation in hand, our work tries to experiment in building classifier with CXR (Chest X-Rays) as Ground Truth predicts whether an X-Ray image belongs to COVID-19 negative or positive. Along with, we try to come up with features that contributes to the detection of an image and also with an explaination delineating why was such a behaviour observed.


***
## Project Objective:
From the motivation to help flattening the curve of COVID-19, Can we use a Data Science in order to predict a patient's COVID-19 Infection? To answer the this question, we aim to answer few sub-questions:

* How well could classifiers perform on Chest X-Rays?
* Although @Zhao2020COVIDCTDatasetAC and @DeepCOVIDExplainer extensively works with Neural Networks (Black-Box Model) to classify, Can simple and intrinsically explainable classifiers achieve a base Accuracy, F~1~-Score and AUC of 85% using CXR?
* How does different features of CXR contribute to the model prediction and Can we come up with few number of feature w.r.t their importance?
* Which flavour of ~multilabel transform~ algorithm perform best among all, the one which considers label correlation or the one which does not?
* Can we come up with explaination of our model's decsision and prediction?

***
## Ground Truth and Technology Stack:

### Technology Stack
The project will be built in `R` with usage of API’s like `magick`, `opencv` for image processing and `tidyverse` packages like `dplyr` and `tidyr` for data manipulation, `ggplot2` for data visualization, `rmarkdown` and `knitr` for reproducible and automated reporting, `shiny` for interactive web applications and `tidymodels` for inferential and predictive modeling.

### Dataset
In order to train the classifier, CT-Scan data would be gold-standard for us [@Zhao2020COVIDCTDatasetAC; @falanu; @dhikanu; @puchhadu] and also the experiment by [@cohen2020covid] suggest pretty good results in terms of Accuracy and F~1~-Score. However, due to less in quantity, we would like to use X-rays as our dataset to train and test. Though, it won't be that competible in terms of quality w.r.t CT-Scans but as it is availbale in abundance for COVID-19 positives and negatives and as per [@KERMANY20181122] it has proved to be sufficient and comparable to diagonise w.r.t CT-Scans.

Our dataset consists of 1500 X-Ray images of so and so size. We have so and so COVID-19 positives and so and so negatives. We would like shuffle, batch and repeat to train 66% of data and the rest to test while building the model. [citing all the links from which we have collected our dataset]. In particular we will use the [COVID-19 Dataset Repository]<https://shorturl.at/qwLR0> as our Ground Truth.

***
## Data Science Pipeline Design Overview:
We would be following a typical Data Science pipeline starting with Pre-Processing of the Dataset, Feature Extraction and Selection and then feeding descriptors (Trainable Vectors) to different classifiers to train and test and then finally evaluation would be done based on predictor's results. The details are delineated in the following sections.  

### Feature Extraction and Selection
For the part of feature extraction, we will try texture-based descriptors. There exist several texture-based vision algorithms. We will try to combine features before training and train our model on a combined feature set. Or else we can train models on individual features, and then combine prediction results might be combined and thus one feature might only not be selected but multiple features can be selected. Literature survey tells us Local Binary Patterns shall be a good choice for texture-based descriptor. We will also try to use pretrained networks to gain texture descriptors or vision API’s for the extraction part. Moreover, there are several Neural-Nets we faced in literature survey, that are carefully curated for the purpose of the COVID-19, which requires the image to directly fed to the net, and thereby auto-encodes the parameters.

### Model Selection and Modelling
The problem in hand is a classification problem where we would be classifying whether an image as positive or negative w.r.t COVID-19. Here, we would like to emphasize that the model won’t predict presence or absence or pneumonia, which is a result not only of COVID-19 but other kind of reasons also affect this. <br>

We intend to work on two kinds of algorithms:

1. One that can be trained based on features to be extracted such as:
  + Clustering Algorithms
    - k-Means
    - kNN
  + Support Vector Machines 
  + Binary Classifiers
    - Decision Trees
    - Naive Bayes

Mostly because the models are intrinsically explainable.

2. Neural Network based approaches, where the model is a black box model and we will use tools like saliency maps for description.

### Overview of Design

![](Picture1.png)

The above figure suggests the overall overview of an architecture of the system we would like to develop. We will have images as data and we would pre-proccess by cropping of images and extract features from them. Then after, the features or preprocessed images are fed to the classifier for training. Once trained unknown instance is supplied for classification. We will use late fusion; hence we accumulate the prediction of each of the classifier with certain confidence. The confidence shall be extracted by calculating the MAP score. The Map score can be calculated on a test set that shall be segregated from the overall dataset before the training phase begins. The ratio of the MAP score [@Info_Retri] shall give the confidence contribution of each of the systems.

## Evaluation and Visualization

### Evaluation Methodology

Evaluation Metrics are used to calculate the performance of the model. We have different type of evaluation methods but selecting a metric is an important step in the project. Most commonly used metrics are Precision and Recall. Precision and Recall are also used with other metrics like Accuracy, F1-Score, Area under ROC curve, MAP Score. The higher the metric value the better the performance.

*Accuracy:* Best and mostly used metric. Easily suited for binary as well as multiclass classification problem.

*Precision:* It is a best choice when we want to be very sure of our prediction.

*Recall:* Captures as many positives as possible

*F~1~-Score:* It is a harmonic mean between Precision and Recall.

*MAP score:* Quantifies how good our model at performing the query. First we calculate the average of the precision for each query and then the mean of all these AP scores. Q – No.of queries in the set and AveP(q) – Average precision for a each query q

*AUC & ROC:* Indicates how well the probabilities from the positive classes are separated from the negative classes. Mostly used to check or visualize the performance of the multi-class classification models. ROC is the probability curve and AUC represents degree or measure of separability.


### Visualization
Visualization is a computer generated image using a computer representation of data as primary source and a human as its primary targets. It's an abstract of information. Box Plot easily display data and we can see outliers as well. It graphically displays the data in five statistics Minimum quartile, 25^th^ or lower quartile, 50^th^ or median quartile, 75^th^ or upper quartile and the maximum quartile, which summarizes the distribution of dataset.
Our plan is to visualize our output in Box-plot diagram, for instance, we are gonna display probability of having COVID in quartiles.
X-ray's without COVID as minimum quartile, X-ray's which has very less probability of getting COVID as the lower quartile and continues till X-ray's which has very strong probability of getting COVID as Maximum quartile. 


***
## Time Plan:

**2 Meetings per week. Tuesday and Friday at 17:30 Sharp!**

Individual topics have been assigned in a fashion where each pair or individual would research and implement the functionality in the given time period. Any hindrances and issues would be discussed and will be tried at best to resolve within a weeks time. As the components of the pipeline depend on each other, research of the methodology would be done in parallel whereas the implementation part in an incremental approach.



***
## **Team:**

* [**Jalaj, Vora**](mailto::jalaj.vora@st.ovgu.de) 
*M.Sc. Digital Engineering* <br>

* [**Shivam, Singh**](mailto::shivam.singh@st.ovgu.de)
*M.Sc. Digital Engineering* <br>

* [**Subhankar, Patra**](mailto::subhankar.patra@st.ovgu.de)
*M.Sc. Data and Knowledge Engineering* <br>

* [**Subhajit, Mondal**](mailto::subhajit.mondal@st.ovgu.de)
*M.Sc. Data and Knowledge Engineering* <br>

* [**Roshmitha, Thummala**](mailto::roshmitha.thummala@st.ovgu.de)
*M.Sc. Data and Knowledge Engineering* <br>

<br>

#### **Supervised by:** [M.Sc. Uli Niemann](http://www.kmd.ovgu.de/Team/Academic+Staff/Uli+Niemann.html)


# References